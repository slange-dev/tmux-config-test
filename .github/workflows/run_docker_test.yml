name: Build Tmux from source in Docker
on:
  push:
    branches: [ "master", "main" ]
  pull_request:
    # The branches below must be a subset of the branches above
    branches: [ "master", " main" ]
  schedule:
    - cron: '36 22 * * 2'

jobs:
    compile_tmux_v35a:
        name: Compile tmux v3.5a
        runs-on: ubuntu-latest
        steps:
          - name: Check out the repository - v3.5a
            uses: actions/checkout@main
          - name: Run the build process - v3.5a
            run: docker build . --file Dockerfile-v3.5a --tag tmux-config-test-v3.5a:$(date +%s)

    compile_tmux_v35:
        name: Compile tmux v3.5
        runs-on: ubuntu-latest
        steps:
          - name: Check out the repository - v3.5
            uses: actions/checkout@main
          - name: Run the build process - v3.5
            run: docker build . --file Dockerfile-v3.5 --tag tmux-config-test-v3.5:$(date +%s)

    compile_tmux_v34:
        name: Compile tmux v3.4
        runs-on: ubuntu-latest
        steps:
          - name: Check out the repository - v3.4
            uses: actions/checkout@main
          - name: Run the build process - v3.4
            run: docker build . --file Dockerfile-v3.4 --tag tmux-config-test-v3.4:$(date +%s)

    compile_tmux_v33a:
        name: Compile tmux v3.3a
        runs-on: ubuntu-latest
        steps:
          - name: Check out the repository - v3.3a
            uses: actions/checkout@main
          - name: Run the build process - v3.3a
            run: docker build . --file Dockerfile-v3.3a --tag tmux-config-test-v3.3a:$(date +%s)

    compile_tmux_v33:
        name: Compile tmux v3.3
        runs-on: ubuntu-latest
        steps:
          - name: Check out the repository - v3.3
            uses: actions/checkout@main
          - name: Run the build process - v3.3
            run: docker build . --file Dockerfile-v3.3 --tag tmux-config-test-v3.3:$(date +%s)

    compile_tmux_v32a:
        name: Compile tmux v3.2a
        runs-on: ubuntu-latest
        steps:
          - name: Check out the repository - v3.2a
            uses: actions/checkout@main
          - name: Run the build process - v3.2a
            run: docker build . --file Dockerfile-v3.2a --tag tmux-config-test-v3.2a:$(date +%s)

    compile_tmux_v32:
        name: Compile tmux v3.2
        runs-on: ubuntu-latest
        steps:
          - name: Check out the repository - v3.2
            uses: actions/checkout@main
          - name: Run the build process - v3.2
            run: docker build . --file Dockerfile-v3.2 --tag tmux-config-test-v3.2:$(date +%s)
